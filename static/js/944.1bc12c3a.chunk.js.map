{"version":3,"file":"static/js/944.1bc12c3a.chunk.js","mappings":"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","sources":["pages/PageNotFound.js","module/post/PostRelated.js","components/author/AuthorBox.js","pages/PostDetailsPage.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styled from \"styled-components\";\nconst PageNotFoundStyles = styled.div`\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  background-color: ${(props) => props.theme.black};\n  color: white;\n  .page-content {\n    max-width: 1000px;\n    margin: 0 auto;\n    text-align: center;\n  }\n  .logo {\n    display: inline-block;\n    margin-bottom: 40px;\n  }\n  .heading {\n    font-size: 60px;\n    font-weight: bold;\n    margin-bottom: 20px;\n  }\n  .description {\n    max-width: 800px;\n    margin: 0 auto 40px;\n  }\n  .back {\n    display: inline-block;\n    padding: 15px 30px;\n    color: white;\n    background-image: linear-gradient(\n      to right top,\n      ${(props) => props.theme.primary},\n      ${(props) => props.theme.secondary}\n    );\n    border-radius: 8px;\n    font-weight: 500;\n  }\n  .image {\n    max-width: 250px;\n    margin: 0 auto 40px;\n  }\n`;\n\nconst PageNotFound = () => {\n  const navigate = useNavigate();\n  return (\n    <PageNotFoundStyles>\n      <div className=\"page-content\">\n        <img src=\"./404.png\" alt=\"notfound\" className=\"image\" />\n        <h1 className=\"heading\">404 - Looks like you're lost.</h1>\n        <p className=\"description\">\n          Maybe this page used to exist or you just spelled something wrong.\n          Chances are your spelled something wrong, so can you double check the\n          URL?\n        </p>\n        <button onClick={() => navigate(\"/\")} className=\"back\">\n          Go back\n        </button>\n      </div>\n    </PageNotFoundStyles>\n  );\n};\n\nexport default PageNotFound;\n","import Heading from \"components/layout/Heading\";\nimport { db } from \"firebase-app/firebase-config\";\nimport { collection, onSnapshot, query, where } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\nimport PostItem from \"./PostItem\";\n\nconst PostRelated = ({ categoryId = \"\" }) => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    const docRef = query(\n      collection(db, \"posts\"),\n      where(\"categoryId\", \"==\", categoryId)\n    );\n    onSnapshot(docRef, (snapshot) => {\n      const results = [];\n      snapshot.forEach((doc) => {\n        results.push({\n          id: doc.id,\n          ...doc.data(),\n        });\n      });\n      setPosts(results);\n    });\n  }, [categoryId]);\n  if (!categoryId || posts.length <= 0) return null;\n  return (\n    <div className=\"post-related\">\n      <Heading>Bài viết liên quan</Heading>\n      <div className=\"grid-layout grid-layout--primary\">\n        {posts.map((item) => (\n          <PostItem key={item.id} data={item}></PostItem>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PostRelated;\n","import { db } from \"firebase-app/firebase-config\";\nimport { doc, getDoc } from \"firebase/firestore\";\nimport React, { useEffect, useState } from \"react\";\n\nconst AuthorBox = ({ userId = \"\" }) => {\n  const [user, setUser] = useState({});\n  useEffect(() => {\n    async function fetchUserData() {\n      const docRef = doc(db, \"users\", userId);\n      const docSnapshot = await getDoc(docRef);\n      if (docSnapshot.data()) {\n        setUser(docSnapshot.data());\n      }\n    }\n    fetchUserData();\n  }, [userId]);\n  if (!userId || !user.username) return null;\n  return (\n    <div className=\"author\">\n      <div className=\"author-image\">\n        <img src={user?.avatar} alt=\"\" />\n      </div>\n      <div className=\"author-content\">\n        <h3 className=\"author-name\">{user?.fullname}</h3>\n        <p className=\"author-desc\">{user?.description}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthorBox;\n","import styled from \"styled-components\";\nimport React, { useEffect, useState } from \"react\";\nimport PostRelated from \"module/post/PostRelated\";\nimport PostMeta from \"module/post/PostMeta\";\nimport PostImage from \"module/post/PostImage\";\nimport PostCategory from \"module/post/PostCategory\";\nimport PageNotFound from \"./PageNotFound\";\nimport Layout from \"components/layout/Layout\";\nimport AuthorBox from \"components/author/AuthorBox\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { db } from \"firebase-app/firebase-config\";\nimport { collection, onSnapshot, query, where } from \"firebase/firestore\";\nimport { useAuth } from \"contexts/auth-context\";\nimport { userRole } from \"utils/constants\";\nconst PostDetailsPageStyles = styled.div`\n  padding-bottom: 100px;\n  .post {\n    &-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 40px;\n      margin: 40px 0;\n    }\n    &-feature {\n      width: 100%;\n      max-width: 640px;\n      height: 466px;\n      border-radius: 20px;\n    }\n    &-heading {\n      font-weight: bold;\n      font-size: 36px;\n      margin-bottom: 16px;\n    }\n    &-info {\n      flex: 1;\n    }\n    &-content {\n      max-width: 700px;\n      margin: 80px auto;\n    }\n  }\n  .author {\n    margin-top: 40px;\n    margin-bottom: 80px;\n    display: flex;\n    border-radius: 20px;\n    background-color: ${(props) => props.theme.grayF3};\n    &-image {\n      width: 200px;\n      height: 200px;\n      flex-shrink: 0;\n      border-radius: inherit;\n    }\n    &-image img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      border-radius: inherit;\n    }\n    &-content {\n      flex: 1;\n      padding: 20px;\n    }\n    &-name {\n      font-weight: bold;\n      margin-bottom: 10px;\n      font-size: 20px;\n    }\n    &-desc {\n      font-size: 14px;\n      line-height: 2;\n    }\n  }\n  @media screen and (max-width: 1023.98px) {\n    padding-bottom: 40px;\n    .post {\n      &-header {\n        flex-direction: column;\n      }\n      &-feature {\n        height: auto;\n      }\n      &-heading {\n        font-size: 26px;\n      }\n      &-content {\n        margin: 40px 0;\n      }\n    }\n    .author {\n      flex-direction: column;\n      &-image {\n        width: 100%;\n        height: auto;\n      }\n    }\n  }\n`;\n\nconst PostDetailsPage = () => {\n  const { slug } = useParams();\n  const [postInfo, setPostInfo] = useState({});\n  useEffect(() => {\n    async function fetchData() {\n      if (!slug) return;\n      const colRef = query(collection(db, \"posts\"), where(\"slug\", \"==\", slug));\n      onSnapshot(colRef, (snapshot) => {\n        snapshot.forEach((doc) => {\n          doc.data() &&\n            setPostInfo({\n              id: doc.id,\n              ...doc.data(),\n            });\n        });\n      });\n    }\n    fetchData();\n  }, [slug]);\n  useEffect(() => {\n    document.body.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n  }, [slug]);\n  const { userInfo } = useAuth();\n  if (!slug) return <PageNotFound></PageNotFound>;\n  if (!postInfo.title) return null;\n  const { user } = postInfo;\n\n  return (\n    <PostDetailsPageStyles>\n      <Layout>\n        <div className=\"container\">\n          <div className=\"post-header\">\n            <PostImage\n              url={postInfo.image}\n              className=\"post-feature\"\n            ></PostImage>\n            <div className=\"post-info\">\n              <PostCategory className=\"mb-6\" to={postInfo.category?.slug}>\n                {postInfo.category?.name}\n              </PostCategory>\n              <h1 className=\"post-heading\">{postInfo.title}</h1>\n              <PostMeta authorName={user?.fullname}></PostMeta>\n              {/* Check if user role is ADMIN then can edit the post */}\n              {userInfo?.role === userRole.ADMIN && (\n                <Link\n                  to={`/manage/update-post?id=${postInfo.id}`}\n                  className=\"inline-block px-4 py-2 mt-5 text-sm border border-gray-400 rounded-md\"\n                >\n                  Edit post\n                </Link>\n              )}\n            </div>\n          </div>\n          <div className=\"post-content\">\n            <div\n              className=\"entry-content\"\n              // Prevent XSS Attack recommen from React Docs\n              dangerouslySetInnerHTML={{\n                __html: postInfo.content || \"\",\n              }}\n            ></div>\n            <AuthorBox userId={user.id}></AuthorBox>\n          </div>\n          <PostRelated categoryId={postInfo?.category?.id}></PostRelated>\n        </div>\n      </Layout>\n    </PostDetailsPageStyles>\n  );\n};\n\nexport default PostDetailsPage;\n"],"names":["PageNotFoundStyles","styled","props","theme","black","primary","secondary","navigate","useNavigate","className","src","alt","onClick","categoryId","useState","posts","setPosts","useEffect","docRef","query","collection","db","where","onSnapshot","snapshot","results","forEach","doc","push","id","data","length","Heading","map","item","PostItem","userId","user","setUser","getDoc","docSnapshot","fetchUserData","username","avatar","fullname","description","PostDetailsPageStyles","grayF3","slug","useParams","postInfo","setPostInfo","colRef","fetchData","document","body","scrollIntoView","behavior","block","userInfo","useAuth","PageNotFound","title","Layout","PostImage","url","image","PostCategory","to","category","name","PostMeta","authorName","role","userRole","dangerouslySetInnerHTML","__html","content"],"sourceRoot":""}